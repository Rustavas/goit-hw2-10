{"mappings":"YAGA,IAAMA,EAASC,SAASC,cAAc,iBAChCC,EAAUF,SAASC,cAAc,aACjCE,EAASH,SAASC,cAAc,WAGtCG,OAAOC,iBAAiB,QAAQ,WAC9BC,YAAW,WAAQH,EAAOI,Q,GAAY,I,IAQxC,IAAMC,EAAU,wEACVC,EAAW,+BAEjB,SAASC,EAAWC,GASXC,MAAM,uCACVC,MAAK,SAAAC,GACJ,IAAKA,EAAKC,GACR,MAAM,IAAIC,MAAMF,EAAKG,YAEvB,OAAOH,EAAKI,M,IAZbL,MAAK,SAAAM,G,OACJpB,EAAOqB,UAAyBD,EAgBzBE,KAAI,SAAAC,G,MAAQ,kBAA8BC,OAAZD,EAAKE,GAAG,MAAcD,OAAVD,EAAKG,KAAK,Y,IAAYC,KAAK,G,IAd7EC,MAAMC,E,CA6DX,SAASA,IACP5B,SAAS6B,KAAKT,UAAa,2E,CAG7B,SAASU,IACP5B,EAAQkB,UAAa,2E,CAxEvBhB,OAAOC,iBAAiB,OAAQK,GAwBhCX,EAAOM,iBAAiB,UAExB,SAAkBM,GAChBP,OAAO2B,oBAAoB,OAAQrB,IAYnBsB,EAXCjC,EAAOkC,MAYxBlC,EAAOmC,mBAAmB,cAAe,gCAClCtB,MAAM,GAAuCW,OAApCd,EAAS,6BAA4Cc,OAAjBS,EAAM,aAAmBT,OAARf,IAClEK,MAAK,SAAAC,GAlDV,IACQqB,EAsDF,OAJKrB,EAAKC,KACRb,EAAQkB,UAAY,8DAnDpBe,EAAYnC,SAASC,cAAc,WACzCK,YAAW,WAAQ6B,EAAU5B,Q,GAAY,KAqD9BO,EAAKI,M,IACXS,MAAMG,GACRM,WApBgBvB,MAAK,SAAAM,G,OACtBA,EAAKE,KAAI,SAAAgB,G,IAAGC,EAAGD,EAAHC,IAAKC,EAAMF,EAANE,OACfrC,EAAQkB,UAsBd,SAA2BkB,EAAKb,EAAMe,EAAaC,GACjD,MACE,cAA2BlB,OAAbe,EAAI,WAEQf,OAFCE,EAAK,wFAGDF,OADLE,EAAK,4CAIMF,OAHNiB,EAAY,qIAGMjB,OAAZkB,EAAY,+B,CA9B3BC,CAClBJ,EAAKC,EAAO,GAAGd,KAAMc,EAAO,GAAGC,YAAaD,EAAO,GAAGE,Y,OAO9D,IAAkBT,C","sources":["src/index.js"],"sourcesContent":["// import { fetchBreeds } from \"./api_breed_cat\";\n// import { createMarkup } from \"./markup_breeds_list\";\n// localStorage.clear()\nconst select = document.querySelector('.breed-select');\nconst catInfo = document.querySelector('.cat-info');\nconst loader = document.querySelector('.loader');\n\n\nwindow.addEventListener('load', () => {\n  setTimeout(() => { loader.remove() }, 1000)\n})\nfunction removeLoader() {\n  const preLoader = document.querySelector('.loader');\n  setTimeout(() => { preLoader.remove() }, 500)\n}\n\n\nconst API_KEY = 'live_eVFX0N3DgZf8XV7EZFhS9HUEtK1lVasKqGqyQWPZoGDlSDnCwXDvn4ocqwmdZP1e';\nconst BASE_URL = 'https://api.thecatapi.com/v1';\nwindow.addEventListener('load', onLoadPage);\nfunction onLoadPage(evt) {\n  fetchBreeds()\n    .then(data => (\n      select.innerHTML = createMarkup(data)\n    ))\n    .catch(onErrorPage);\n}\n\nfunction fetchBreeds() {\n  return fetch('https://api.thecatapi.com/v1/breeds')\n    .then(resp => {\n      if (!resp.ok) {\n        throw new Error(resp.statusText)\n      }\n      return resp.json();\n    });\n};\n\nfunction createMarkup(arr) {\n  return arr.map(item => `<option value=\"${item.id}\">${item.name}</option>`).join('');\n}\n//================\n\nselect.addEventListener('change', onSelect);\n\nfunction onSelect(evt) {\n  window.removeEventListener('load', onLoadPage)\n  const breed_id = select.value\n  fetchCat(breed_id).then(data =>\n    data.map(({ url, breeds }) => {\n      catInfo.innerHTML = createMarkupBreed(\n        url, breeds[0].name, breeds[0].description, breeds[0].temperament)\n    })\n  )\n}\n\n\n\nfunction fetchCat(breed) {\n  select.insertAdjacentHTML(\"beforebegin\", '<span class=\"loader\"></span>')\n  return fetch(`${BASE_URL}/images/search?breed_ids=${breed}&api_key=${API_KEY}`)\n    .then(resp => {\n      if (!resp.ok) {\n        catInfo.innerHTML = \"<p>Oops! Something went wrong! Try reloading the page!</p>\";\n      }\n      removeLoader()\n      return resp.json();\n    }).catch(onErrorBreed)\n    .finally(\n    );\n}\n\nfunction createMarkupBreed(url, name, description, temperament) {\n  return (\n    ` <img src=\"${url}\" alt=\"${name}\"   class=\"image\"/>\n    <div class=\"cat-description\">\n    <h2 class=\"breed-title\">${name}</h2>\n    <p class=\"breed-description\">${description}</p>\n    <div class=\"temperament\">\n    <h3 class=\"temperament-title\">Temperament:</h3>\n    <p class=\"temperament-description\">${temperament}</p>\n    </div>\n    </div>`\n  )\n}\n\nfunction onErrorPage() {\n  document.body.innerHTML = `<p class=\"error\" >Oops! Something went wrong! Try reloading the page!</p>`;\n}\n\nfunction onErrorBreed() {\n  catInfo.innerHTML = `<p class=\"error\" >Oops! Something went wrong! Try reloading the page!</p>`;\n}\n\n\n\n\n\n"],"names":["$b8f9b7833fa37166$var$select","document","querySelector","$b8f9b7833fa37166$var$catInfo","$b8f9b7833fa37166$var$loader","window","addEventListener","setTimeout","remove","$b8f9b7833fa37166$var$API_KEY","$b8f9b7833fa37166$var$BASE_URL","$b8f9b7833fa37166$var$onLoadPage","evt","fetch","then","resp","ok","Error","statusText","json","data","innerHTML","map","item","concat","id","name","join","catch","$b8f9b7833fa37166$var$onErrorPage","body","$b8f9b7833fa37166$var$onErrorBreed","removeEventListener","breed","value","insertAdjacentHTML","preLoader","finally","param","url","breeds","description","temperament","$b8f9b7833fa37166$var$createMarkupBreed"],"version":3,"file":"index.a5712b79.js.map"}