{"mappings":"AAEAA,aAAaC,QACb,MAAMC,EAASC,SAASC,cAAc,iBAChCC,EAAUF,SAASC,cAAc,aACjCE,EAASH,SAASC,cAAc,WAGtCG,OAAOC,iBAAiB,QAAQ,KAC9BC,YAAW,KAAQH,EAAOI,QAAQ,GAAI,IAAK,IAW7C,SAASC,EAAWC,GASXC,MAAM,uCACVC,MAAKC,IACJ,IAAKA,EAAKC,GACR,MAAM,IAAIC,MAAMF,EAAKG,YAEvB,OAAOH,EAAKI,MAAM,IAZnBL,MAAKM,GACJlB,EAAOmB,UAAyBD,EAgBzBE,KAAIC,GAAQ,kBAAkBA,EAAKC,OAAOD,EAAKE,kBAAiBC,KAAK,MAd7EC,MAAMC,E,CA6DX,SAASA,IACPzB,SAAS0B,KAAKR,UAAY,2E,CAG5B,SAASS,IACPzB,EAAQgB,UAAY,2E,CAxEtBd,OAAOC,iBAAiB,OAAQG,GAwBhCT,EAAOM,iBAAiB,UAExB,SAAkBI,GAChBL,OAAOwB,oBAAoB,OAAQpB,IAYnBqB,EAXC9B,EAAO+B,MAYxB/B,EAAOgC,mBAAmB,cAAe,gCAClCrB,MAAM,wDAAuCmB,mFACjDlB,MAAKC,IACCA,EAAKC,KACRX,EAAQgB,UAAY,8DApD5B,WACE,MAAMc,EAAYhC,SAASC,cAAc,WACzCK,YAAW,KAAQ0B,EAAUzB,QAAQ,GAAI,I,CAoDrC0B,GACOrB,EAAKI,UACXQ,MAAMG,GACRO,WApBgBvB,MAAKM,GACtBA,EAAKE,KAAI,EAACgB,IAAEA,EAAGC,OAAEA,MACflC,EAAQgB,UAsBd,SAA2BiB,EAAKb,EAAMe,EAAaC,GACjD,MACE,cAAcH,WAAab,wFAEDA,4CACKe,qIAGMC,+B,CA9BfC,CAClBJ,EAAKC,EAAO,GAAGd,KAAMc,EAAO,GAAGC,YAAaD,EAAO,GAAGE,YAAY,MAO1E,IAAkBT,C","sources":["src/index.js"],"sourcesContent":["// import { fetchBreeds } from \"./api_breed_cat\";\n// import { createMarkup } from \"./markup_breeds_list\";\nlocalStorage.clear()\nconst select = document.querySelector('.breed-select');\nconst catInfo = document.querySelector('.cat-info');\nconst loader = document.querySelector('.loader');\n\n\nwindow.addEventListener('load', () => {\n  setTimeout(() => { loader.remove() }, 1000)\n})\nfunction removeLoader() {\n  const preLoader = document.querySelector('.loader');\n  setTimeout(() => { preLoader.remove() }, 3000)\n}\n\n\nconst API_KEY = 'live_eVFX0N3DgZf8XV7EZFhS9HUEtK1lVasKqGqyQWPZoGDlSDnCwXDvn4ocqwmdZP1e';\nconst BASE_URL = 'https://api.thecatapi.com/v1';\nwindow.addEventListener('load', onLoadPage);\nfunction onLoadPage(evt) {\n  fetchBreeds()\n    .then(data => (\n      select.innerHTML = createMarkup(data)\n    ))\n    .catch(onErrorPage);\n}\n\nfunction fetchBreeds() {\n  return fetch('https://api.thecatapi.com/v1/breeds')\n    .then(resp => {\n      if (!resp.ok) {\n        throw new Error(resp.statusText)\n      }\n      return resp.json();\n    });\n};\n\nfunction createMarkup(arr) {\n  return arr.map(item => `<option value=\"${item.id}\">${item.name}</option>`).join('');\n}\n//================\n\nselect.addEventListener('change', onSelect);\n\nfunction onSelect(evt) {\n  window.removeEventListener('load', onLoadPage)\n  const breed_id = select.value\n  fetchCat(breed_id).then(data =>\n    data.map(({ url, breeds }) => {\n      catInfo.innerHTML = createMarkupBreed(\n        url, breeds[0].name, breeds[0].description, breeds[0].temperament)\n    })\n  )\n}\n\n\n\nfunction fetchCat(breed) {\n  select.insertAdjacentHTML(\"beforebegin\", '<span class=\"loader\"></span>')\n  return fetch(`${BASE_URL}/images/search?breed_ids=${breed}&api_key=${API_KEY}`)\n    .then(resp => {\n      if (!resp.ok) {\n        catInfo.innerHTML = \"<p>Oops! Something went wrong! Try reloading the page!</p>\";\n      }\n      removeLoader()\n      return resp.json();\n    }).catch(onErrorBreed)\n    .finally(\n    );\n}\n\nfunction createMarkupBreed(url, name, description, temperament) {\n  return (\n    ` <img src=\"${url}\" alt=\"${name}\"   class=\"image\"/>\n    <div class=\"cat-description\">\n    <h2 class=\"breed-title\">${name}</h2>\n    <p class=\"breed-description\">${description}</p>\n    <div class=\"temperament\">\n    <h3 class=\"temperament-title\">Temperament:</h3>\n    <p class=\"temperament-description\">${temperament}</p>\n    </div>\n    </div>`\n  )\n}\n\nfunction onErrorPage() {\n  document.body.innerHTML = `<p class=\"error\" >Oops! Something went wrong! Try reloading the page!</p>`;\n}\n\nfunction onErrorBreed() {\n  catInfo.innerHTML = `<p class=\"error\" >Oops! Something went wrong! Try reloading the page!</p>`;\n}\n\n\n\n\n\n\n"],"names":["localStorage","clear","$1f0dc3b9307be026$var$select","document","querySelector","$1f0dc3b9307be026$var$catInfo","$1f0dc3b9307be026$var$loader","window","addEventListener","setTimeout","remove","$1f0dc3b9307be026$var$onLoadPage","evt","fetch","then","resp","ok","Error","statusText","json","data","innerHTML","map","item","id","name","join","catch","$1f0dc3b9307be026$var$onErrorPage","body","$1f0dc3b9307be026$var$onErrorBreed","removeEventListener","breed","value","insertAdjacentHTML","preLoader","$1f0dc3b9307be026$var$removeLoader","finally","url","breeds","description","temperament","$1f0dc3b9307be026$var$createMarkupBreed"],"version":3,"file":"index.350dd2b8.js.map"}