{"mappings":"YAGA,IAAMA,EAASC,SAASC,cAAc,iBAChCC,EAAUF,SAASC,cAAc,aAClBD,SAASG,cAAc,KAC5CC,aAAaC,QAEb,IAAMC,EAAU,wEAEVC,EAAW,+BAEjB,SAASC,EAAWC,GAYXC,MAAM,uCACVC,MAAK,SAAAC,GAMJ,OALKA,EAAKC,GAKHD,EAAKE,M,IAjBbH,MAAK,SAAAI,G,OACJhB,EAAOiB,UAAyBD,EAsBzBE,KAAI,SAAAC,G,MAAQ,kBAA8BC,OAAZD,EAAKE,GAAG,MAAcD,OAAVD,EAAKG,KAAK,Y,IAAYC,KAAK,G,IApB7EC,MAAMC,E,CA6DX,SAASA,IACPxB,SAASyB,KAAKT,UAAa,0E,CAE7B,SAASU,IACPxB,EAAQc,UAAa,0E,CAvEvBW,OAAOC,iBAAiB,OAAQpB,GA8BhCT,EAAO6B,iBAAiB,UAExB,SAAkBnB,GAChBkB,OAAOE,oBAAoB,OAAQrB,IAUnBsB,EATC/B,EAAOgC,MAUjBrB,MAAM,GAA0CS,OAAvCZ,EAAS,gCAA+CY,OAAjBW,EAAM,aAAmBX,OAARb,IACrEK,MAAK,SAAAC,GAKJ,OAJKA,EAAKC,KAERX,EAAQc,UAAY,8DAEfJ,EAAKE,M,IACXS,MAAMG,IAhBQf,MAAK,SAAAI,G,OACtBA,EAAKE,KAAI,SAAAe,G,IAAGC,EAAGD,EAAHC,IAAKC,EAAMF,EAANE,OACfhC,EAAQc,UAiBd,SAA2BiB,EAAKZ,EAAMc,EAAaC,GACjD,MACE,cAA2BjB,OAAbc,EAAI,WAEQd,OAFCE,EAAK,wFAGDF,OADLE,EAAK,4CAIMF,OAHNgB,EAAY,qIAGMhB,OAAZiB,EAAY,+B,CAzB3BC,CAClBJ,EAAKC,EAAO,GAAGb,KAAMa,EAAO,GAAGC,YAAaD,EAAO,GAAGE,Y,OAK9D,IAAkBN,C","sources":["src/index.js"],"sourcesContent":["// import { fetchBreeds } from \"./api_breed_cat\";\n// import { createMarkup } from \"./markup_breeds_list\";\n\nconst select = document.querySelector('.breed-select');\nconst catInfo = document.querySelector('.cat-info');\nconst errorMessage = document.createElement('p');\nlocalStorage.clear()\n\nconst API_KEY = 'live_eVFX0N3DgZf8XV7EZFhS9HUEtK1lVasKqGqyQWPZoGDlSDnCwXDvn4ocqwmdZP1e';\n// const API_LINK = 'https://api.thecatapi.com/v1/images/search?limit=10&breed_ids=beng&api_key=REPLACE_ME'\nconst BASE_URL = 'https://api.thecatapi.com/v1';\nwindow.addEventListener('load', onLoadPage);\nfunction onLoadPage(evt) {\n  fetchBreeds()\n    .then(data => (\n      select.innerHTML = createMarkup(data)\n    ))\n    .catch(onErrorPage);\n}\n\n\n\nfunction fetchBreeds() {\n  // fetch(`${BASE_URL}/images/search?limit=10&breed_ids=beng&api_key=${API_KEY}`);\n  return fetch('https://api.thecatapi.com/v1/breeds')\n    .then(resp => {\n      if (!resp.ok) {\n        // throw new Error(resp.statusText)\n        // document.body.innerHTML = createMarkupError();\n        \n      }\n      return resp.json();\n    });\n};\n\n\nfunction createMarkup(arr) {\n  return arr.map(item => `<option value=\"${item.id}\">${item.name}</option>`).join('');\n}\n//================\n\nselect.addEventListener('change', onSelect);\n\nfunction onSelect(evt) {\n  window.removeEventListener('load', onLoadPage)\n  const breed_id = select.value\n  fetchCat(breed_id).then(data =>\n    data.map(({ url, breeds }) => {\n      catInfo.innerHTML = createMarkupBreed(\n        url, breeds[0].name, breeds[0].description, breeds[0].temperament)\n    })\n  )\n}\n\nfunction fetchCat(breed) {\n  return fetch(`${BASE_URL}AAA/images/search?breed_ids=${breed}&api_key=${API_KEY}`)\n    .then(resp => {\n      if (!resp.ok) {\n        // throw new Error(resp.statusText)\n        catInfo.innerHTML = \"<p>Oops! Something went wrong! Try reloading the page!</p>\";\n      }\n      return resp.json();\n    }).catch(onErrorBreed);\n}\n\nfunction createMarkupBreed(url, name, description, temperament) {\n  return (\n    ` <img src=\"${url}\" alt=\"${name}\"   class=\"image\"/>\n    <div class=\"cat-description\">\n    <h2 class=\"breed-title\">${name}</h2>\n    <p class=\"breed-description\">${description}</p>\n    <div class=\"temperament\">\n    <h3 class=\"temperament-title\">Temperament:</h3>\n    <p class=\"temperament-description\">${temperament}</p>\n    </div>\n    </div>`\n  )\n}\nfunction onErrorPage() {\n  document.body.innerHTML = `<p class=\"error\">Oops! Something went wrong! Try reloading the page!</p>`;\n}\nfunction onErrorBreed() {\n  catInfo.innerHTML = `<p class=\"error\">Oops! Something went wrong! Try reloading the page!</p>`;\n}\n\n\n\n\n\n"],"names":["$b8f9b7833fa37166$var$select","document","querySelector","$b8f9b7833fa37166$var$catInfo","createElement","localStorage","clear","$b8f9b7833fa37166$var$API_KEY","$b8f9b7833fa37166$var$BASE_URL","$b8f9b7833fa37166$var$onLoadPage","evt","fetch","then","resp","ok","json","data","innerHTML","map","item","concat","id","name","join","catch","$b8f9b7833fa37166$var$onErrorPage","body","$b8f9b7833fa37166$var$onErrorBreed","window","addEventListener","removeEventListener","breed","value","param","url","breeds","description","temperament","$b8f9b7833fa37166$var$createMarkupBreed"],"version":3,"file":"index.8ec68726.js.map"}