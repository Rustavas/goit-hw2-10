{"mappings":"AAGA,MAAMA,EAASC,SAASC,cAAc,iBAChCC,EAAUF,SAASC,cAAc,aAClBD,SAASG,cAAc,KAC5CC,aAAaC,QAMb,SAASC,EAAWC,GAYXC,MAAM,uCACVC,MAAKC,IACCA,EAAKC,GAKHD,EAAKE,UAjBbH,MAAKI,GACJd,EAAOe,UAAyBD,EAsBzBE,KAAIC,GAAQ,kBAAkBA,EAAKC,OAAOD,EAAKE,kBAAiBC,KAAK,MApB7EC,MAAMC,E,CA6DX,SAASA,IACPrB,SAASsB,KAAKR,UAAY,0E,CAE5B,SAASS,IACPrB,EAAQY,UAAY,0E,CAvEtBU,OAAOC,iBAAiB,OAAQnB,GA8BhCP,EAAO0B,iBAAiB,UAExB,SAAkBlB,GAChBiB,OAAOE,oBAAoB,OAAQpB,IAUnBqB,EATC5B,EAAO6B,MAUjBpB,MAAM,2DAA0CmB,mFACpDlB,MAAKC,IACCA,EAAKC,KAERT,EAAQY,UAAY,8DAEfJ,EAAKE,UACXQ,MAAMG,IAhBQd,MAAKI,GACtBA,EAAKE,KAAI,EAACc,IAAEA,EAAGC,OAAEA,MACf5B,EAAQY,UAiBd,SAA2Be,EAAKX,EAAMa,EAAaC,GACjD,MACE,cAAcH,WAAaX,wFAEDA,4CACKa,qIAGMC,+B,CAzBfC,CAClBJ,EAAKC,EAAO,GAAGZ,KAAMY,EAAO,GAAGC,YAAaD,EAAO,GAAGE,YAAY,MAK1E,IAAkBL,C","sources":["src/index.js"],"sourcesContent":["// import { fetchBreeds } from \"./api_breed_cat\";\n// import { createMarkup } from \"./markup_breeds_list\";\n\nconst select = document.querySelector('.breed-select');\nconst catInfo = document.querySelector('.cat-info');\nconst errorMessage = document.createElement('p');\nlocalStorage.clear()\n\nconst API_KEY = 'live_eVFX0N3DgZf8XV7EZFhS9HUEtK1lVasKqGqyQWPZoGDlSDnCwXDvn4ocqwmdZP1e';\n// const API_LINK = 'https://api.thecatapi.com/v1/images/search?limit=10&breed_ids=beng&api_key=REPLACE_ME'\nconst BASE_URL = 'https://api.thecatapi.com/v1';\nwindow.addEventListener('load', onLoadPage);\nfunction onLoadPage(evt) {\n  fetchBreeds()\n    .then(data => (\n      select.innerHTML = createMarkup(data)\n    ))\n    .catch(onErrorPage);\n}\n\n\n\nfunction fetchBreeds() {\n  // fetch(`${BASE_URL}/images/search?limit=10&breed_ids=beng&api_key=${API_KEY}`);\n  return fetch('https://api.thecatapi.com/v1/breeds')\n    .then(resp => {\n      if (!resp.ok) {\n        // throw new Error(resp.statusText)\n        // document.body.innerHTML = createMarkupError();\n        \n      }\n      return resp.json();\n    });\n};\n\n\nfunction createMarkup(arr) {\n  return arr.map(item => `<option value=\"${item.id}\">${item.name}</option>`).join('');\n}\n//================\n\nselect.addEventListener('change', onSelect);\n\nfunction onSelect(evt) {\n  window.removeEventListener('load', onLoadPage)\n  const breed_id = select.value\n  fetchCat(breed_id).then(data =>\n    data.map(({ url, breeds }) => {\n      catInfo.innerHTML = createMarkupBreed(\n        url, breeds[0].name, breeds[0].description, breeds[0].temperament)\n    })\n  )\n}\n\nfunction fetchCat(breed) {\n  return fetch(`${BASE_URL}AAA/images/search?breed_ids=${breed}&api_key=${API_KEY}`)\n    .then(resp => {\n      if (!resp.ok) {\n        // throw new Error(resp.statusText)\n        catInfo.innerHTML = \"<p>Oops! Something went wrong! Try reloading the page!</p>\";\n      }\n      return resp.json();\n    }).catch(onErrorBreed);\n}\n\nfunction createMarkupBreed(url, name, description, temperament) {\n  return (\n    ` <img src=\"${url}\" alt=\"${name}\"   class=\"image\"/>\n    <div class=\"cat-description\">\n    <h2 class=\"breed-title\">${name}</h2>\n    <p class=\"breed-description\">${description}</p>\n    <div class=\"temperament\">\n    <h3 class=\"temperament-title\">Temperament:</h3>\n    <p class=\"temperament-description\">${temperament}</p>\n    </div>\n    </div>`\n  )\n}\nfunction onErrorPage() {\n  document.body.innerHTML = `<p class=\"error\">Oops! Something went wrong! Try reloading the page!</p>`;\n}\nfunction onErrorBreed() {\n  catInfo.innerHTML = `<p class=\"error\">Oops! Something went wrong! Try reloading the page!</p>`;\n}\n\n\n\n\n\n"],"names":["$1f0dc3b9307be026$var$select","document","querySelector","$1f0dc3b9307be026$var$catInfo","createElement","localStorage","clear","$1f0dc3b9307be026$var$onLoadPage","evt","fetch","then","resp","ok","json","data","innerHTML","map","item","id","name","join","catch","$1f0dc3b9307be026$var$onErrorPage","body","$1f0dc3b9307be026$var$onErrorBreed","window","addEventListener","removeEventListener","breed","value","url","breeds","description","temperament","$1f0dc3b9307be026$var$createMarkupBreed"],"version":3,"file":"index.b08ed15e.js.map"}